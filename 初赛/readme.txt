说明文档:

一、操作步骤：

1、修改压缩包中两.py文件的根目录，并将训练集和测试集（train、test1文件夹）放到根目录下，根目录下新建两空文件夹分别命名为train_new、test1_new。
2、运行kdxf_preprocessing.py，运行结果是train_new、test1_new内存储了预处理矫正后的文件，根目录下生成train.csv以及test.csv
3、运行kdxf_main.py,运行结果是根目录下生成submission.csv文件，即结果提交文件

二、程序说明

1、对数据进行EDA发现，数据很脏，特别是部件运行时间、累积量参数12都出现了冲激、阶跃等现象，分析发下每当突增和突降发生后，大部分在一段时间后会有对应的突降和突增出现，分析是系统对突变的补偿，故而得到结论――突变是不合理的，而非采样时间间隔变化造成的。基于上述分析，在preprocessing.py的第一部分对部件运行时间、累积量参数12进行校正，使其基本符合单调性，设定门限，只处理较大突变

2、preprocessing.py第二部分构造符合题意的训练集和测试集，将训练集按时间比例分段，分别计算对应剩余寿命作为标签，一个设备构造多个样本，并同时构建基本的统计特征（这里感谢知乎开源的baseline）

3、main.py主要是构建特征和训练两部分，特征主要是各特征分段的统计特征，特征工程第一部分是构造特征并将统计特征保存输出到对应字典中，字典的key是“文件名+percent”，values是一个list按顺序存放个特征值。特征工程的第二部分是将所有dict与train/test拼接为dataframe

4、训练部分采用lgb模型，分别使用不同的loss与后处理得到两种预测结果并分段分比例融合，原因是不同loss与后处理对数据的不同分布区段拟合效果不同，为达到最好拟合采用分段分比例融合